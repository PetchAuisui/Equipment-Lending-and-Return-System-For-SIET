{% extends 'base/base_admin.html' %}
{% block title %}‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå{% endblock %}
{% set CATEGORIES = ["IT & ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå","‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå/‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°","‡πÇ‡∏™‡∏ï‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤","‡∏Å‡∏µ‡∏¨‡∏≤","‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô "] %}

{% block content %}
<style>
  *, *::before, *::after { box-sizing: border-box; }

  .page { margin-left:260px; margin-right:24px; padding:24px; }
  @media (max-width: 992px){ .page{ margin:0 16px; padding:16px; } }

  .panel { background:#f2f2f2; border-radius:14px; padding:24px; }

  .card {
    background:#fff;
    border:1px solid #ddd;
    border-radius:14px;
    max-width:640px;
    width:100%;
    margin:0 auto;
    box-shadow:0 2px 8px rgba(0,0,0,.06);
  }

  .card__header {
    padding:20px;
    border-bottom:1px solid #eee;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
  }
  .card__header img { width:40px; height:40px; }
  .card__header h1 { font-size:22px; font-weight:700; margin:0; }

  .card__body { padding:24px; }

  .row {
    display:flex;
    flex-direction:column;
    gap:6px;
    margin-bottom:18px;
  }
  .row:last-child { margin-bottom:0; }

  .row label {
    font-size:14px;
    font-weight:600;
    color:#333;
  }

  .ctrl {
    width:100%;
    padding:11px 12px;
    border:1px solid #cfcfcf;
    border-radius:10px;
    font-size:15px;
    background:#fff;
    transition:border-color .15s, box-shadow .15s;
  }
  .ctrl:focus {
    border-color:#4caf50;
    box-shadow:0 0 0 3px rgba(76,175,80,.15);
    outline:none;
  }

  textarea.ctrl {
    min-height:96px;
    resize:vertical;
  }

  select.ctrl {
    appearance:none;
    -webkit-appearance:none;
    -moz-appearance:none;
    background-image:
      linear-gradient(45deg, transparent 50%, #666 50%),
      linear-gradient(135deg, #666 50%, transparent 50%),
      linear-gradient(to right, #ddd, #ddd);
    background-position:
      calc(100% - 18px) calc(50% - 3px),
      calc(100% - 12px) calc(50% - 3px),
      calc(100% - 36px) 50%;
    background-size:
      6px 6px,
      6px 6px,
      1px 60%;
    background-repeat:no-repeat;
    padding-right:44px;
  }

  .btns {
    display:flex;
    justify-content:flex-end;
    gap:10px;
    margin-top:20px;
  }
  .btn {
    padding:10px 18px;
    border-radius:10px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    border:1px solid #ccc;
    background:#fff;
    transition: background .2s, transform .05s;
  }
  .btn:active { transform:translateY(1px); }
  .btn.primary {
    background:#4caf50;
    color:#fff;
    border-color:#4caf50;
  }
  .btn.primary:hover { background:#45a049; }
</style>

<!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° flash (‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á) -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div style="display:flex; justify-content:center; margin-bottom:20px;">
      <div style="width:100%; max-width:600px;">
        {% for category, message in messages %}
          <div style="
            text-align:center;
            padding:12px 16px;
            border-radius:8px;
            margin-bottom:10px;
            font-weight:600;
            {% if category == 'success' %}
              background-color:#e8f5e9; color:#1b5e20;
            {% elif category == 'error' %}
              background-color:#ffebee; color:#b71c1c;
            {% else %}
              background-color:#f5f5f5; color:#333;
            {% endif %}
          ">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endwith %}


<div class="page">
  <div class="panel">
    <div class="card">
      <div class="card__header">
        <img src="{{ url_for('static', filename='images/icons/device.png') }}" alt="">
        <h1>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h1>
      </div>

      <div class="card__body">
        <form action="{{ url_for('inventory.admin_equipment_new') }}" method="post" enctype="multipart/form-data">

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå *</label>
            <input class="ctrl" type="text" name="name" required>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏£‡∏´‡∏±‡∏™/‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç *</label>
            <input class="ctrl" type="text" name="code" required>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà *</label>
            <select class="ctrl" name="category" required>
              <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‚Äî</option>
              {% for c in CATEGORIES %}
                <option value="{{ c }}">{{ c }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠ *</label>
            <input class="ctrl" type="text" name="brand" required>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î *</label>
            <textarea class="ctrl" name="detail" required></textarea>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠ *</label>
            <input class="ctrl" type="date" name="buy_date" required>
          </div>

          <!-- üü© ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ *</label>
            <select class="ctrl" name="status" required>
              <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‚Äî</option>
              <option value="available">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
              <option value="in_use">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏¢‡∏∑‡∏°</option>
              <option value="broken">‡∏ä‡∏≥‡∏£‡∏∏‡∏î</option>
              <option value="lost">‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢</option>
            </select>
          </div>

          <!-- ‚ùé ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label style="font-weight:600;">‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</label>
            <div style="display:flex; gap:20px; margin-top:6px;">
              <label style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="require_teacher_approval" value="1">
                ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
              </label>
              <label style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="require_teacher_approval" value="0" checked>
                ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
              </label>
            </div>
          </div>

          <!-- ‚ùé ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô -->
          <div class="row">
            <label>‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
            <input class="ctrl" type="file" name="image" accept="image/*">
          </div>

          <div class="btns">
            <a class="btn" href="{{ url_for('inventory.admin_equipment_list') }}">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</a>
            <button type="submit" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}
